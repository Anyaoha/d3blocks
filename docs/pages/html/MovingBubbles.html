<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MovingBubbles &mdash; d3blocks d3blocks documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Imageslider" href="Imageslider.html" />
    <link rel="prev" title="Heatmap" href="Heatmap.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> d3blocks
          </a>
              <div class="version">
                1.0.6
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
    
              <p class="caption" role="heading"><span class="caption-text">Motivation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Motivation.html">Summary</a></li>
<li class="toctree-l1"><a class="reference internal" href="Motivation.html#why-bother-using-d3-js">Why bother using D3.js?</a></li>
<li class="toctree-l1"><a class="reference internal" href="Motivation.html#d3-motivation">D3 Motivation</a></li>
<li class="toctree-l1"><a class="reference internal" href="Motivation.html#d3-charts">D3 charts</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Installation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Installation.html">Install from Pypi (pip)</a></li>
<li class="toctree-l1"><a class="reference internal" href="Installation.html#install-from-github">Install from github</a></li>
<li class="toctree-l1"><a class="reference internal" href="Installation.html#create-environment">Create environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="Installation.html#uninstall">Uninstall</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Blocks</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Timeseries.html">Timeseries</a></li>
<li class="toctree-l1"><a class="reference internal" href="Chord.html">Chord</a></li>
<li class="toctree-l1"><a class="reference internal" href="d3graph.html">D3graph</a></li>
<li class="toctree-l1"><a class="reference internal" href="Sankey.html">Sankey</a></li>
<li class="toctree-l1"><a class="reference internal" href="Heatmap.html">Heatmap</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">MovingBubbles</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#description">Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="#input-data">Input Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#chart">Chart</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Imageslider.html">Imageslider</a></li>
<li class="toctree-l1"><a class="reference internal" href="Scatter.html">Scatter</a></li>
<li class="toctree-l1"><a class="reference internal" href="Violin.html">Violin</a></li>
<li class="toctree-l1"><a class="reference internal" href="Particles.html">Particles</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Documentation.html">Sponsor</a></li>
<li class="toctree-l1"><a class="reference internal" href="Documentation.html#medium-blog">Medium Blog</a></li>
<li class="toctree-l1"><a class="reference internal" href="Documentation.html#github">Github</a></li>
<li class="toctree-l1"><a class="reference internal" href="Coding%20quality.html">Coding quality</a></li>
<li class="toctree-l1"><a class="reference internal" href="d3blocks.d3blocks.html">API References</a></li>
</ul>

    <a href= "genindex.html">Index</a>
  
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">d3blocks</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>MovingBubbles</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/MovingBubbles.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-d3blocks.d3blocks.D3Blocks.movingbubbles">
<span id="movingbubbles"></span><h1>MovingBubbles<a class="headerlink" href="#module-d3blocks.d3blocks.D3Blocks.movingbubbles" title="Permalink to this headline"></a></h1>
<p>MovingBubbles block.</p>
<section id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline"></a></h2>
<p>The MovingBubbles provides insights into when one action follows the other across time. It can help to
understand the movements of entities, and whether clusters occur at specific time points and state(s).
It may not be the most visually efficient method, but it is one of the more visually satisfying ones with
force-directed and colliding nodes. The function d3.import_example(‘random_time’) is created to generate
a randomized dataset with various states. The input dataset should contain 3 columns;</p>
<blockquote>
<div><ul class="simple">
<li><p>DateTime column: Describes the data-time when an event occurs.</p></li>
<li><p>State column: Describes what the particular state was at that point of time of the specific sample_id.</p></li>
<li><p>Sample_id column: A sample can have multiple states at various time points but can not have two states at exactly the same point in time.</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">param df</dt>
<dd class="field-odd"><p>Input data.</p>
</dd>
<dt class="field-even">type df</dt>
<dd class="field-even"><p>Input data, pd.DataFrame()</p>
</dd>
<dt class="field-odd">param datetime</dt>
<dd class="field-odd"><p>Name of the column with the datetime.</p>
</dd>
<dt class="field-even">type datetime</dt>
<dd class="field-even"><p>str, (default: ‘datetime’)</p>
</dd>
<dt class="field-odd">param sample_id</dt>
<dd class="field-odd"><p>Name of the column with the sample ids.</p>
</dd>
<dt class="field-even">type sample_id</dt>
<dd class="field-even"><p>str, (default: ‘sample_id’)</p>
</dd>
<dt class="field-odd">param state</dt>
<dd class="field-odd"><p>Name of the column with the states.</p>
</dd>
<dt class="field-even">type state</dt>
<dd class="field-even"><p>str, (default: ‘state’)</p>
</dd>
<dt class="field-odd">param center</dt>
<dd class="field-odd"><p>Center this category.</p>
</dd>
<dt class="field-even">type center</dt>
<dd class="field-even"><p>String, (default: None)</p>
</dd>
<dt class="field-odd">param dampler</dt>
<dd class="field-odd"><p>Movement of sample: [0.1 - 10]. A smaller number is slower/smoother movement.</p>
</dd>
<dt class="field-even">type dampler</dt>
<dd class="field-even"><p>float, (default: 1)</p>
</dd>
<dt class="field-odd">param fontsize</dt>
<dd class="field-odd"><p>Fontsize of the states.</p>
</dd>
<dt class="field-even">type fontsize</dt>
<dd class="field-even"><p>int, (default: 14)</p>
</dd>
<dt class="field-odd">param standardize</dt>
<dd class="field-odd"><p>Method to standardize the data.
None: standardize over the entire timeframe. Sample_ids are dependent to each other.
‘samplewise’: Standardize per sample_id. Thus the sample_ids are independent of each other.</p>
</dd>
<dt class="field-even">type standardize</dt>
<dd class="field-even"><p>str. (default: None)</p>
</dd>
<dt class="field-odd">param reset_time</dt>
<dd class="field-odd"><p>‘day’  : Every 24h de the day start over again.
‘year’ : Every 365 days the year starts over again.</p>
</dd>
<dt class="field-even">type reset_time</dt>
<dd class="field-even"><p>String, (default: ‘day’)</p>
</dd>
<dt class="field-odd">param speed</dt>
<dd class="field-odd"><p>The final html file contains three buttons for speed movements. The lower the value, the faster the time moves.</p>
</dd>
<dt class="field-even">type speed</dt>
<dd class="field-even"><p>dict, (default: {“slow”: 1000, “medium”: 200, “fast”: 50})</p>
</dd>
<dt class="field-odd">param figsize</dt>
<dd class="field-odd"><p>Size of the figure in the browser, [width, height].</p>
</dd>
<dt class="field-even">type figsize</dt>
<dd class="field-even"><p>tuple, (default: (1500, 800))</p>
</dd>
<dt class="field-odd">param note</dt>
<dd class="field-odd"><p>A specific note, such as project description can be put on the html page.</p>
</dd>
<dt class="field-even">type note</dt>
<dd class="field-even"><p>str, (default: None)</p>
</dd>
<dt class="field-odd">param time_notes</dt>
<dd class="field-odd"><p>The time notes will be shown between specific time points.
time_notes = [{“start_minute”: 1, “stop_minute”: 5, “note”: “Enter your note here and it is shown between 1 min and 5 min.”}]
time_notes.append[{“start_minute”: 6, “stop_minute”: 10, “note”: “Enter your second note here and it is shown between 6 min and 10 min.”}]</p>
</dd>
<dt class="field-even">type time_notes</dt>
<dd class="field-even"><p>dict, (default: None)</p>
</dd>
<dt class="field-odd">param title</dt>
<dd class="field-odd"><p>Title of the figure.</p>
</dd>
<dt class="field-even">type title</dt>
<dd class="field-even"><p>String, (default: None)</p>
</dd>
<dt class="field-odd">param filepath</dt>
<dd class="field-odd"><p>File path to save the output</p>
</dd>
<dt class="field-even">type filepath</dt>
<dd class="field-even"><p>String, (Default: user temp directory)</p>
</dd>
<dt class="field-odd">param showfig</dt>
<dd class="field-odd"><p>Open the window to show the chart.</p>
</dd>
<dt class="field-even">type showfig</dt>
<dd class="field-even"><p>bool, (default: True)</p>
</dd>
<dt class="field-odd">param overwrite</dt>
<dd class="field-odd"><p>Overwrite the existing html file.</p>
</dd>
<dt class="field-even">type overwrite</dt>
<dd class="field-even"><p>bool, (default: True)</p>
</dd>
<dt class="field-odd">returns</dt>
<dd class="field-odd"><p></p></dd>
<dt class="field-even">rtype</dt>
<dd class="field-even"><p>pd.DataFrame()</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Load d3blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">d3blocks</span> <span class="kn">import</span> <span class="n">D3Blocks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Initialize</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span> <span class="o">=</span> <span class="n">D3Blocks</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Load example data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">d3</span><span class="o">.</span><span class="n">import_example</span><span class="p">(</span><span class="s1">&#39;random_time&#39;</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">10000</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">date_start</span><span class="o">=</span><span class="s2">&quot;17-12-1903 00:10:05&quot;</span><span class="p">,</span> <span class="n">date_stop</span><span class="o">=</span><span class="s2">&quot;17-12-1903 23:59:59&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Plot</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d3</span><span class="o">.</span><span class="n">movingbubbles</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">speed</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;slow&quot;</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span> <span class="s2">&quot;medium&quot;</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span> <span class="s2">&quot;fast&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">},</span> <span class="n">filepath</span><span class="o">=</span><span class="s1">&#39;movingbubbles.html&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#</span>
</pre></div>
</div>
</section>
<section id="input-data">
<h2>Input Data<a class="headerlink" href="#input-data" title="Permalink to this headline"></a></h2>
<p>The input data is a dataframe that should contain the columns datatime, sample_id and state.
If the column names are different, then the column name can be specified.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#                 datetime sample_id     state</span>
<span class="c1"># 0    2000-01-01 00:10:32        30      Sick</span>
<span class="c1"># 1    2000-01-01 00:10:36        23      Work</span>
<span class="c1"># 2    2000-01-01 00:11:16       179  Sleeping</span>
<span class="c1"># 3    2000-01-01 00:11:28       122     Sport</span>
<span class="c1"># 4    2000-01-01 00:13:02       226  Sleeping</span>
<span class="c1">#                  ...       ...       ...</span>
<span class="c1"># 9994 2000-01-01 23:59:56       300  Sleeping</span>
<span class="c1"># 9995 2000-01-01 23:59:57       217      Home</span>
<span class="c1"># 9996 2000-01-01 23:59:57        89  Sleeping</span>
<span class="c1"># 9997 2000-01-01 23:59:58        42  Sleeping</span>
<span class="c1"># 9998 2000-01-01 23:59:58       237      Work</span>

<span class="c1"># [9999 rows x 3 columns]</span>
</pre></div>
</div>
</section>
<section id="chart">
<h2>Chart<a class="headerlink" href="#chart" title="Permalink to this headline"></a></h2>
<iframe src="https://erdogant.github.io\docs\d3blocks\movingbubbles.html" height="900px" width="900px", frameBorder="0"></iframe><hr>
<center>
        <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CEADP27U&placement=erdogantgithubio" id="_carbonads_js"></script>
</center>
<hr></section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="Heatmap.html" class="btn btn-neutral float-left" title="Heatmap" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="Imageslider.html" class="btn btn-neutral float-right" title="Imageslider" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Erdogan Taskesen.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>